<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Scratch Card</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Open+Sans:wght@400&display=swap');
        body {
            text-align: center;
            font-family: 'Open Sans', sans-serif;
            background-color: #F5F5F5;
            color: #626E99;
            padding: 20px;
        }
        h2 {
            font-size: 22px;
            font-weight: bold;
            margin-bottom: 20px;
        }
        .scratch-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }
        .scratch-wrapper {
            position: relative;
            width: 320px;
            height: 130px;
            background: #fff;
            border-radius: 10px;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 10px;
        }
        .scratch-card {
            width: 100%;
            height: 100px;
            background: linear-gradient(45deg, #b0b0b0, #d3d3d3);
            cursor: pointer;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 2;
            border-radius: 10px;
        }
        .hidden-content {
            font-size: 14px;
            font-weight: bold;
            color: #626E99;
            background: white;
            position: relative;
            z-index: 1;
            padding: 10px;
            text-align: center;
            margin-top: 110px;
        }
        .reward-container {
            display: none;
            margin-top: 40px;
            padding: 20px;
            border: 2px solid #626E99;
            background: #fff;
            width: 90%;
            max-width: 500px;
            text-align: center;
            border-radius: 10px;
            box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.15);
            opacity: 0;
            transform: scale(0.9);
            transition: all 0.5s ease-in-out;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin: auto;
        }
        .reward-container.show {
            opacity: 1;
            transform: scale(1);
        }
        .reward-text {
            font-size: 16px;
            font-style: italic;
            font-weight: bold;
            color: #626E99;
            max-width: 80%;
            text-align: center;
        }
        .logo {
            margin-top: 10px;
            width: 80px;
        }
    </style>
</head>
<body>
    <h2>Complete all challenges to reveal a surprise!</h2>
    <div class="scratch-container">
        <div class="scratch-wrapper">
            <canvas class="scratch-card"></canvas>
            <div class="hidden-content">Give someone a compliment today</div>
        </div>
        <div class="scratch-wrapper">
            <canvas class="scratch-card"></canvas>
            <div class="hidden-content">Take a 5-minute stretch</div>
        </div>
        <div class="scratch-wrapper">
            <canvas class="scratch-card"></canvas>
            <div class="hidden-content">Write 3 things you are grateful for</div>
        </div>
        <div class="scratch-wrapper">
            <canvas class="scratch-card"></canvas>
            <div class="hidden-content">Take 2 minutes to breathe deeply and reset</div>
        </div>
    </div>
    <div class="reward-container" id="reward">
        <p class="reward-text">"The power of finding beauty in the humblest things makes home happy and life lovely."<br>- Louisa May Alcott</p>
        <p>Powered by:</p>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 260 260" class="logo">
  <defs>
    <style>
      .cls-1 {
        fill: #f4efe9;
      }
      .cls-1, .cls-2 {
        stroke-width: 0px;
      }
      .cls-2 {
        fill: #646f99;
      }
    </style>
  </defs>
  <path class="cls-2" d="m260,130c0,71.8-58.2,130-130,130S0,201.8,0,130,58.2,0,130,0s130,58.2,130,130"/>
  <path class="cls-1" d="m158.52,73.34c0-3.03-.7-5.32-2.09-6.83-1.39-1.52-3.22-2.28-5.49-2.28-1.05,0-2.04.19-2.95.58-.91.38-1.7.93-2.35,1.63-.65.7-1.17,1.53-1.56,2.47-.38.94-.58,2.19-.58,3.74s.64,2.94,1.92,4.17c1.28,1.23,2.81,1.85,4.6,1.85s3.15-.27,4.08-.82c-.35,1.22-1.19,2.22-2.52,3.02-1.32.8-3.19,1.2-5.58,1.2-1.31,0-2.77-.16-4.36-.48v3.93c1.09.32,2.59.48,4.51.48,8.25,0,12.37-4.22,12.37-12.66"/>
  <path class="cls-1" d="m210.13,151.26c-.27-3.12-.76-6.43-1.49-9.91-4.82-20.94-16.81-31.41-35.98-31.41-2.8.04-5.79.34-8.98.89l23.69-23.02-6.26-6.19-32.6,34.09c-.22,0-.44.12-.67.34l4.39,7.92c6.35-3.73,12.6-5.59,18.77-5.59,8.21.05,15.08,3.11,20.63,9.18,5.72,6.08,8.76,13.97,9.11,23.69h-78.05l-.22-31.1h-9.26l.4,37.64c0,8.17-2.62,15.12-7.85,20.86-5.22,5.74-11.56,8.61-19,8.61s-13.79-2.83-19.12-8.48c-5.33-5.65-7.99-12.57-7.99-20.73-.27-17.36-.4-36.34-.4-37.91h-9.38l.67,37.39c0,10.67,3.55,19.74,10.65,27.22,7.09,7.48,15.62,11.22,25.57,11.22s18.42-3.76,25.42-11.29c6.48-6.97,9.94-15.22,10.46-24.73h87.49v-8.72Z"/>
  <path class="cls-1" d="m86.31,84.02c5.52,0,10.01-4.49,10.01-10.01s-4.49-10.01-10.01-10.01-10.01,4.49-10.01,10.01,4.49,10.01,10.01,10.01m0-15.27c2.9,0,5.26,2.36,5.26,5.26s-2.36,5.26-5.26,5.26-5.26-2.36-5.26-5.26,2.36-5.26,5.26-5.26"/>
</svg>
    </div>
    
    <script>
        let completedScratchCards = 0;
        document.querySelectorAll(".scratch-card").forEach((canvas, index) => {
            let ctx = canvas.getContext("2d", { willReadFrequently: true });
            canvas.width = 320;
            canvas.height = 100;
            ctx.fillStyle = "gray";
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            let isScratching = false;

            function scratch(e) {
                if (!isScratching) return;
                let rect = canvas.getBoundingClientRect();
                let x = (e.touches ? e.touches[0].clientX : e.clientX) - rect.left;
                let y = (e.touches ? e.touches[0].clientY : e.clientY) - rect.top;
                ctx.globalCompositeOperation = "destination-out";
                ctx.beginPath();
                ctx.arc(x, y, 40, 0, Math.PI * 2);
                ctx.fill();
            }

            function checkScratchCompletion() {
                let pixels = ctx.getImageData(0, 0, canvas.width, canvas.height).data;
                let clearedPixels = 0;
                for (let i = 3; i < pixels.length; i += 4) {
                    if (pixels[i] === 0) clearedPixels++;
                }
                if (clearedPixels > pixels.length * 0.6 / 4) {
                    canvas.style.display = "none";
                    completedScratchCards++;
                    if (completedScratchCards === 4) {
                        document.getElementById("reward").classList.add("show");
                        document.getElementById("reward").style.display = "block";
                    }
                }
            }

            canvas.addEventListener("mousedown", () => isScratching = true);
            canvas.addEventListener("mouseup", () => { isScratching = false; checkScratchCompletion(); });
            canvas.addEventListener("mousemove", scratch);

            canvas.addEventListener("touchstart", () => isScratching = true);
            canvas.addEventListener("touchend", () => { isScratching = false; checkScratchCompletion(); });
            canvas.addEventListener("touchmove", scratch);
        });
    </script>
</body>
</html>
